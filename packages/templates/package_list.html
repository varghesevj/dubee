{% extends "base.html" %}

{% block title %}{{ category }}{% endblock %}

{% block content %}
<script>
    var currencySymbol = "{{ site_settings.currency|escapejs }} " + " ";
</script>

<!-- <h1>Our Tours</h1>
<ul>
    <li><a href="">Tour 1</a></li>
    <li><a href="">Tour 2</a></li>
    <li><a href="">Tour 3</a></li>
</ul> -->


    <!-- ================================
    START BREADCRUMB AREA
================================= -->
{% if category_key == 'tour' and  breadcrumb_images.tours_bread_image  %}
  <section class="breadcrumb-area" style="background-image: url('{{ breadcrumb_images.tours_bread_image.url }}');">
{% elif category_key == 'activity' and breadcrumb_images.activities_bread_image %}
  <section class="breadcrumb-area" style="background-image: url('{{ breadcrumb_images.activities_bread_image.url }}');">
{% else %}
  <section class="breadcrumb-area bread-bg">
{% endif %}
<!-- <section class="breadcrumb-area bread-bg"> -->
    <div class="breadcrumb-wrap padding-right-100px padding-left-100px">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <div class="breadcrumb-content">
              <div class="section-heading">
                <h2 class="sec__title text-white">{{ category }}</h2>
              </div>
            </div>
            <!-- end breadcrumb-content -->
          </div>
          <!-- end col-lg-6 -->
          <!-- end col-lg-6 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </div>
    <!-- end breadcrumb-wrap -->
    <div class="bread-svg-box">
      <svg
        class="bread-svg"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 100 10"
        preserveAspectRatio="none"
      >
        <polygon points="100 0 50 10 0 0 0 10 100 10"></polygon>
      </svg>
    </div>
    <!-- end bread-svg -->
  </section>
  <!-- end breadcrumb-area -->
  <!-- ================================
  END BREADCRUMB AREA
================================= -->


   <!-- ================================
    START CARD AREA
================================= -->
<section
class="card-area section--padding padding-right-100px padding-left-100px"
>
<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="filter-wrap margin-bottom-30px">
        <div
          class="filter-top d-flex align-items-center justify-content-between pb-4"
        >
          <div>
            <p class="font-size-13 pt-2">
              Showing 
              {{ packages.start_index }} - {{ packages.end_index }} 
              of {{ packages.paginator.count }} {{ category }}
            </p>
            <!-- <h3 class="title font-size-24">{{packages|length}} {{ category }} found</h3> -->
          </div>
          <!-- <div class="layout-view d-flex align-items-center">
            <a
              href="tour-grid.html"
              data-bs-toggle="tooltip"
              data-placement="top"
              title="Grid View"
              class="active"
              ><i class="la la-th-large"></i
            ></a>
            <a
              href="tour-list.html"
              data-bs-toggle="tooltip"
              data-placement="top"
              title="List View"
              ><i class="la la-th-list"></i
            ></a>
          </div> -->
        </div>
        <!-- end filter-top -->
        <div
          class="filter-bar d-flex align-items-center justify-content-between "
        >
          <div
            class="filter-bar-filter d-flex flex-wrap  flex-column flex-sm-row  "
          >
            <div class="filter-option ">
              <h3 class="title font-size-16">Filter by:</h3>
            </div>
            <div class="filter-option ">
              <div class="dropdown dropdown-contain">
                <a
                  class="dropdown-toggle dropdown-btn dropdown--btn"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                >
                  Filter Price
                </a>
                <div class="dropdown-menu dropdown-menu-wrap">
                  <div class="dropdown-item">
                    <div class="slider-range-wrap">
                      <div
                        class="price-slider-amount padding-bottom-20px"
                      >
                        <label for="amount" class="filter__label"
                          >Price:</label
                        >
                        <input type="text" id="amount" class="amounts" disabled />
                      </div>
                      <!-- end price-slider-amount -->
                      <div id="slider-range"></div>
                      <!-- end slider-range -->
                    </div>
                    <!-- end slider-range-wrap -->
                    <div class="btn-box pt-4">
                      <button
                        class="theme-btn theme-btn-small theme-btn-transparent"
                        type="button"
                      >
                        Apply
                      </button>
                    </div>
                  </div>
                  <!-- end dropdown-item -->
                </div>
                <!-- end dropdown-menu -->
              </div>
              <!-- end dropdown -->
            </div>
            <div class="filter-option ">
              <div class="dropdown dropdown-contain">
                <a
                  class="dropdown-toggle dropdown-btn dropdown--btn"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                >
                  Min Age
                </a>
                <div class="dropdown-menu dropdown-menu-wrap">
                  <div class="dropdown-item">
                    <div class="slider-range-wrap">
                      <div
                        class="price-slider-amount padding-bottom-20px"
                      >
                        <label for="age" class="filter__label"
                          >Youngest in Group:</label
                        >
                        <input type="text" id="age" class="amounts" disabled />
                      </div>
                      <!-- end price-slider-amount -->
                      <div id="slider-range2"></div>
                      <!-- end slider-range -->
                    </div>
                    <!-- end slider-range-wrap -->
                    <div class="btn-box pt-4">
                      <button
                        class="theme-btn theme-btn-small theme-btn-transparent"
                        type="button" id="set-min-age"
                      >
                        Apply
                      </button>
                    </div>
                  </div>
                  <!-- end dropdown-item -->
                </div>
                <!-- end dropdown-menu -->
              </div>
              <!-- end dropdown -->
            </div>
            
            <div class="filter-option ">
              <div class="dropdown dropdown-contain">
                <a
                  class="dropdown-toggle dropdown-btn dropdown--btn"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                >
                  Group Size
                </a>
                <div class="dropdown-menu dropdown-menu-wrap">
                  <div class="dropdown-item">
                    <div class="slider-range-wrap">
                      <div
                        class="price-slider-amount padding-bottom-20px"
                      >
                        <label for="age" class="filter__label"
                          >Group Size:</label
                        >
                        <input type="text" id="group" class="amounts" disabled />
                      </div>
                     
                      <div id="slider-range-group"></div>
                     
                    </div>
                    
                    <div class="btn-box pt-4">
                      <button
                        class="theme-btn theme-btn-small theme-btn-transparent"
                        type="button" id="set-min-group"
                      >
                        Apply
                      </button>
                    </div>
                  </div>
                  
                </div>
                
              </div>
              
            </div>
            <div class="filter-option">
            <div class="btn-box ">
                      <button
                        class="theme-btn theme-btn-small theme-btn-transparent"
                        type="button" id=""
                      >
                        Clear Filters
                      </button>
            </div>
            </div>
          </div>
          <!-- end filter-bar-filter -->
          <!-- <div class="select-contain select2-container-wrapper">
            <select class="select-contain-select">
              <option value="1">Sort by default</option>
              <option value="2">Price: low to high</option>
              <option value="3">Price: high to low</option>
            </select>
          </div> -->

          <!-- <form method="get" action="" id="sort-form">
              <div class="select-contain select2-container-wrapper">
                  <select class="select-contain-select" name="sort" onchange="this.form.submit()">
                      <option value="1" {% if request.GET.sort == '1' %}selected{% endif %}>Sort by default</option>
                      <option value="2" {% if request.GET.sort == '2' %}selected{% endif %}>Price: low to high</option>
                      <option value="3" {% if request.GET.sort == '3' %}selected{% endif %}>Price: high to low</option>
                  </select>
              </div>
          </form> -->
          

            
          <form method="get" action="" id="sort-form">
              <div class="select-contain select2-container-wrapper">
                  <select class="select-contain-select" name="sort" onchange="this.form.submit()">
                      <option value="1" {% if request.GET.sort == '1' %}selected{% endif %}>Sort by default</option>
                      <option value="2" {% if request.GET.sort == '2' %}selected{% endif %}>Price: low to high</option>
                      <option value="3" {% if request.GET.sort == '3' %}selected{% endif %}>Price: high to low</option>
                  </select>
              </div>
              
             
          </form>
          <!-- end select-contain -->
        </div>
        <!-- end filter-bar -->
      </div>
      <!-- end filter-wrap -->
    </div>
    <!-- end col-lg-12 -->
  </div>
  <!-- end row -->
  <div class="row card-container">
    {% for package in packages %}
      {% include "partials/list_card.html" %}
    {% empty %}
      <p>No {{ category|lower }} available.</p>
    {% endfor %}
  </div>
  <!-- end row -->
  <div class="row">
    <div class="col-lg-12">
      <div class="pagination justify-content-center mt-4">
        <p class="font-size-13 pt-2">
          Showing 
          {{ packages.start_index }} - {{ packages.end_index }} 
          of {{ packages.paginator.count }} {{ category }}
        </p>
      </div> 
      <div class="pagination justify-content-center mt-4">
        <nav>
          <ul class="pagination">
            {% if packages.has_previous %}
              <li class="page-item">
                <!-- <a class="page-link" href="?page={{ packages.previous_page_number }}">&laquo;</a> -->
                <a class="page-link" href="?page={{ packages.previous_page_number }}&sort={{ sort }}">Previous</a>
       
              </li>
            {% endif %}

            {% for num in packages.paginator.page_range %}
              <li class="page-item {% if packages.number == num %}active{% endif %}">
                <a class="page-link" href="?page={{ num }}&sort={{ sort }}">{{ num }}</a>
              </li>
            {% endfor %}

            {% if packages.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ packages.next_page_number }}&sort={{ sort }}">&raquo;</a>
              </li>
            {% endif %}
          </ul>
        </nav>
        
      </div>
      

      <!-- end btn-box -->
    </div>
    <!-- end col-lg-12 -->
  </div>
  <!-- end row -->
</div>
<!-- end container-fluid -->
</section>
<!-- end card-area -->
<!-- ================================
END CARD AREA
================================= -->


{% endblock %}