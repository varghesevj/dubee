{% extends "base.html" %}
{% load static %}

{% block title %}Blog{% endblock %}

{% block content %}





    <!-- ================================
    START CARD AREA
================================= -->
<section class="card-area pt-3">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div
            class="card-item blog-card blog-card-layout-2 blog-single-card mb-5"
          >

            <div class="card-img blog-img before-none">
              {% if blog.cover_image %}
              <img src="{{blog.cover_image.url}}" alt="blog-img" />
              {% endif %}
            </div>


            <div class="card-body px-0 pb-0">
              <div class="post-categories">
                <a href="#" class="badge">Travel</a>
                <a href="#" class="badge">lifestyle</a>
              </div>
              <h3 class="card-title font-size-28">
                {{blog.title}}
              </h3>
              <p class="card-meta pb-3">
                <span class="post__author">By {{blog.author.name}}</span
                >
                <span class="post-dot"></span>
                <span class="post__date">{{blog.date|date:"F j, Y" }}</span>
              </p>
              <div class="section-block"></div>
              <p class="card-text py-3">{{blog.intro}}</p>
              
              <!-- Dynamic blog components -->
              {% for component in blog.components.all %}
                {% if component.section_type == 'heading' %}
                  <h3 class="title">{{ component.heading }}</h3>
                {% elif component.section_type == 'paragraph' %}
                  <p class="card-text py-3">{{ component.paragraph }}</p>
                {% elif component.section_type == 'single_image' %}
                  <div class="photo-block-item mb-4">
                    {% if component.single_image %}
                      <img src="{{ component.single_image.url }}" alt="{{ component.heading|default:'Blog image' }}" class="img-fluid" />
                    {% endif %}
                    {% if component.heading %}
                      <p class="text-center pt-2 font-style-italic">{{ component.heading }}</p>
                    {% endif %}
                  </div>
                {% endif %}
              {% endfor %}
              <div class="section-block"></div>
              <div
                class="post-tag-wrap d-flex align-items-center justify-content-between py-4"
              >
                <ul class="tag-list">
                  <li><a href="#">Tour</a></li>
                  <li><a href="#">Nature</a></li>
                  <li><a href="#">Beaches</a></li>
                </ul>
                <div class="post-share">
                  <ul>
                    <li>
                      <i class="la la-share icon-element"></i>
                      <ul
                        class="post-share-dropdown d-flex align-items-center"
                      >
                        <li>
                          <a href="#"><i class="lab la-facebook-f"></i></a>
                        </li>
                        <li>
                          <a href="#"><i class="lab la-twitter"></i></a>
                        </li>
                        <li>
                          <a href="#"><i class="lab la-instagram"></i></a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="section-block"></div>
              <div
                class="post-navigation d-flex justify-content-between py-4"
              >
                <a href="#" class="btn theme-btn-hover-gray line-height-35"
                  ><i class="la la-arrow-left me-2"></i>The best hotels in
                  Europe: 2020</a
                >
                <a href="#" class="btn theme-btn-hover-gray line-height-35"
                  >The 10 best flight journeys in the world<i
                    class="la la-arrow-right ms-2"
                  ></i
                ></a>
              </div>
              <div class="section-block"></div>
              <div class="post-author-wrap">
                <div class="author-content pt-5">
                  <div class="d-flex">
                    <div class="author-img author-img-md me-4">
                      {% if blog.author.profile_image %}
                          <img src="{{ blog.author.profile_image.url }}" alt="{{ blog.author.name }}" />
                      {% else %}
                          <img src="{% static 'images/no-profile.png' %}" alt="Default author image" />
                      {% endif %}

                    </div>
                    <div class="author-bio">
                      <h4 class="author__title">{{blog.author.name}}</h4>
                      {% if blog.author.description %}
                        <span class="author__meta">About the Author</span>
                        <p class="author__text pt-1">{{blog.author.description}}</p>
                      {% endif %}
                      <ul class="social-profile pt-3">

                        {% if blog.author.social_facebook %}
                        <li>
                          <a href="{{blog.author.social_facebook}}"><i class="lab la-facebook-f"></i></a>
                        </li>
                        {% endif %}
                        {% if blog.author.social_twitter %}
                        <li>
                          <a href="{{blog.author.social_twitter}}"><i class="lab la-twitter"></i></a>
                        </li>
                        {% endif %}
                        {% if blog.author.social_instagram %}
                        <li>
                          <a href="{{blog.author.social_instagram}}"><i class="lab la-instagram"></i></a>
                        </li>
                        {% endif %}
                        {% if blog.author.social_linkedin %}
                        <li>
                          <a href="{{blog.author.social_linkedin}}"><i class="lab la-linkedin-in"></i></a>
                        </li>
                        {% endif %}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- end card-item -->
          <div class="section-block"></div>
          <div class="related-posts pt-5 pb-4">
            <h3 class="title">Related Posts</h3>
            <div class="row pt-4">
              {% if related_blogs %}
                {% for related_blog in related_blogs %}
                  {% include 'partials/blog_card.html' with blog=related_blog %}
                {% endfor %}
              {% else %}
                <div class="col-lg-12">
                  <p class="text-center">No related posts found.</p>
                </div>
              {% endif %}
            </div>
            <!-- end row -->
          </div>
          <div class="section-block"></div>
        
        
        </div>
        <!-- end col-lg-8 -->
      
        <!-- end col-lg-4 -->
      </div>
      <!-- end row -->
    </div>
    <!-- end container -->
  </section>
  <!-- end card-area -->
  <!-- ================================
  END CARD AREA
================================= -->


{% endblock %}
